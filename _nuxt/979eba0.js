(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{253:function(t,e,o){var content=o(283);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(68).default)("4d68d436",content,!0,{sourceMap:!1})},282:function(t,e,o){"use strict";o(253)},283:function(t,e,o){var r=o(67)((function(i){return i[1]}));r.push([t.i,'button:focus{\n  outline:none\n}\n.rond{\n  border-radius:50%\n}\n::-webkit-scrollbar{\n  display:none\n}\n.grid-item{\n  margin-bottom:80px\n}\n.pdpStory{\n  border-radius:0 0 9999px 9999px\n}\n.text-IBM{\n  font-family:"IBMPlexSans",sans-serif\n}\n.text-IBM-bold{\n  font-family:"IBMPlexSans-Bold",sans-serif\n}\n.typeButton{\n  border-top-left-radius:8px;\n  border-bottom-left-radius:8px\n}\n.typeNumber{\n  border-top-right-radius:8px;\n  border-bottom-right-radius:8px\n}\n.gray-bg{\n  background-color:#f4f4f8\n}',""]),t.exports=r},318:function(t,e,o){"use strict";o.r(e);o(58),o(41),o(33),o(34),o(57);var r=o(56),n=o.n(r),l={data:function(){return{stories:[],groups:[],userInfo:[]}},beforeMount:function(){null===this.$auth.$storage.getUniversal("userToken")&&this.$router.push({name:"login"}),this.getId(this.$auth.$storage.getUniversal("userToken")),this.getStoryReceived()},methods:{dislikeStory:function(t){t.likes_count-=1,t.liked_type=null,n()({url:"https://storylation.eu.ngrok.io/api/stories/"+t.id+"/likes",method:"delete",headers:{authorization:"Bearer ".concat(this.$auth.$storage.getUniversal("userToken"))}})},likeStory:function(t){if("Like"===t.liked_type)return this.dislikeStory(t),0;t.likes_count+=1,t.liked_type="Like",n()({url:"https://storylation.eu.ngrok.io/api/stories/"+t.id+"/likes",method:"post",headers:{authorization:"Bearer ".concat(this.$auth.$storage.getUniversal("userToken"))}})},followFunction:function(){if("followed"===this.userInfo[0].followed_status)return 0;n()({url:"https://storylation.eu.ngrok.io/api/users/"+this.$auth.$storage.getUniversal("selectedId")+"/follow",method:"post",headers:{authorization:"Bearer ".concat(this.$auth.$storage.getUniversal("userToken"))}})},redirectSocial:function(t){window.location.replace(t)},redirectToStory:function(){this.$router.push({name:"story"})},getId:function(t){var e=this;n()({url:"https://storylation.eu.ngrok.io/api/users/"+this.$auth.$storage.getUniversal("selectedId"),method:"get",headers:{authorization:"Bearer ".concat(t)}}).then((function(t){e.userInfo.push(t.data.data),e.$auth.$storage.setUniversal("selectedId",t.data.data.id)})).catch((function(t){throw t}))},loaded:function(){console.log("ca rentre dna sle init");var t=o(238),e=o(239),r=document.querySelector(".grid");e(r,(function(){var e=new t(r,{itemSelector:".grid-item",columnWidth:".grid-item",gutter:80});console.log(e)})).on("done",(function(t){console.log("all images are loaded")}))},getStoryMedia:function(){var t=this;Object.assign(this.$data,this.$options.data()),n()({url:"https://storylation.eu.ngrok.io/api/users/"+this.$auth.$storage.getUniversal("selectedId")+"/stories/with-medias",method:"get",headers:{authorization:"Bearer ".concat(this.$auth.$storage.getUniversal("userToken"))}}).then((function(e){for(var i=0;i<Object.keys(e.data.data).length;i++)null!==e.data.data[i].liked_type&&(e.data.data[i].liked_type=e.data.data[i].liked_type.charAt(0).toUpperCase()+e.data.data[i].liked_type.slice(1)),e.data.data[i].type=t.transformStoryType(e.data.data[i].type),t.stories.push(e.data.data[i])})).catch((function(t){throw t})),setTimeout(this.loaded,2e3),setTimeout(this.initFlickity,1e3)},getStoryWritten:function(){for(var t=this,e=document.getElementsByClassName("writtenButton"),i=0;i<e.length;i++)e[i].style.background="#ee8172",e[i].style.color="#fff";for(var o=document.getElementsByClassName("receivedButton"),r=0;r<o.length;r++)o[r].style.background="rgba(244, 244, 248, 1)",o[r].style.color="#132963";for(var l=document.getElementsByClassName("mentionnedButton"),c=0;c<l.length;c++)l[c].style.background="rgba(244, 244, 248, 1)",l[c].style.color="#132963";this.stories=[],n()({url:"https://storylation.eu.ngrok.io/api/users/"+this.$auth.$storage.getUniversal("selectedId")+"/stories/written",method:"get",headers:{authorization:"Bearer ".concat(this.$auth.$storage.getUniversal("userToken"))}}).then((function(e){for(var o=0;o<Object.keys(e.data.data).length;o++)null!==e.data.data[o].liked_type&&(e.data.data[o].liked_type=e.data.data[o].liked_type.charAt(0).toUpperCase()+e.data.data[o].liked_type.slice(1)),e.data.data[o].type=t.transformStoryType(e.data.data[o].type),t.stories.push(e.data.data[o])})).catch((function(t){throw t})),setTimeout(this.loaded,2e3),setTimeout(this.initFlickity,1e3)},getStoryReceived:function(){for(var t=this,e=document.getElementsByClassName("writtenButton"),i=0;i<e.length;i++)e[i].style.background="rgba(244, 244, 248, 1)",e[i].style.color="#132963";for(var o=document.getElementsByClassName("receivedButton"),r=0;r<o.length;r++)o[r].style.background="#ee8172",o[r].style.color="#fff";for(var l=document.getElementsByClassName("mentionnedButton"),c=0;c<l.length;c++)l[c].style.background="rgba(244, 244, 248, 1)",l[c].style.color="#132963";this.stories=[],n()({url:"https://storylation.eu.ngrok.io/api/users/"+this.$auth.$storage.getUniversal("selectedId")+"/stories/received",method:"get",headers:{authorization:"Bearer ".concat(this.$auth.$storage.getUniversal("userToken"))}}).then((function(e){for(var o=0;o<Object.keys(e.data.data).length;o++)null!==e.data.data[o].liked_type&&(e.data.data[o].liked_type=e.data.data[o].liked_type.charAt(0).toUpperCase()+e.data.data[o].liked_type.slice(1)),e.data.data[o].type=t.transformStoryType(e.data.data[o].type),t.stories.push(e.data.data[o])})).catch((function(t){throw t})),setTimeout(this.loaded,2e3),setTimeout(this.initFlickity,1e3)},getStoryMentionned:function(){for(var t=this,e=document.getElementsByClassName("writtenButton"),i=0;i<e.length;i++)e[i].style.background="rgba(244, 244, 248, 1)",e[i].style.color="#132963";for(var o=document.getElementsByClassName("receivedButton"),r=0;r<o.length;r++)o[r].style.background="rgba(244, 244, 248, 1)",o[r].style.color="#132963";for(var l=document.getElementsByClassName("mentionnedButton"),c=0;c<l.length;c++)l[c].style.background="#ee8172",l[c].style.color="#fff";this.stories=[],n()({url:"https://storylation.eu.ngrok.io/api/users/"+this.$auth.$storage.getUniversal("selectedId")+"/stories/mentioning",method:"get",headers:{authorization:"Bearer ".concat(this.$auth.$storage.getUniversal("userToken"))}}).then((function(e){for(var o=0;o<Object.keys(e.data.data).length;o++)null!==e.data.data[o].liked_type&&(e.data.data[o].liked_type=e.data.data[o].liked_type.charAt(0).toUpperCase()+e.data.data[o].liked_type.slice(1)),e.data.data[o].type=t.transformStoryType(e.data.data[o].type),t.stories.push(e.data.data[o])})).catch((function(t){throw t})),setTimeout(this.loaded,2e3),setTimeout(this.initFlickity,1e3)},getGroups:function(){if(Object.assign(this.$data,this.$options.data()),null===this.$auth.$storage.getUniversal("userGroups"))return 0;for(var i=0;i<Object.keys(this.$auth.$storage.getUniversal("userGroups").data).length;i++)this.groups.push(this.$auth.$storage.getUniversal("userGroups").data[i])},getStoryGroups:function(t){var e=this;Object.assign(this.$data,this.$options.data()),n()({url:"https://storylation.eu.ngrok.io/api/groups/"+t+"/stories",method:"get",headers:{authorization:"Bearer ".concat(this.$auth.$storage.getUniversal("userToken"))}}).then((function(t){for(var i=0;i<Object.keys(t.data.data).length;i++)t.data.data[i].type=e.transformStoryType(t.data.data[i].type),e.stories.push(t.data.data[i])})).catch((function(t){throw t})),setTimeout(this.loaded,2e3),setTimeout(this.initFlickity,1e3)},transformStoryType:function(t){switch(t){case"story":return"Story about";case"introduction":return"Introducing";case"thanks":return"Many thanks to";case"good_memory":return"Good memory with";case"inspired":return"Inspired by";case"congratulations":return"Congratulations to";case"fun_fact":return"Fun fact about";case"proud":return"Proud of";case"respect":return"Respect to";case"shoutout":return"Shoutout to";case"how_i_met":return"How I met";case"impressed":return"Impressed by";case"first_impression":return"My first impression of";case"conversation_opener":return"Conversation opener for";case"what_i_like":return"What I like about";case"happy":return"Happy for"}},initFlickity:function(){var t=document.createElement("script");t.setAttribute("src","https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"),document.head.appendChild(t)}}},c=(o(282),o(46)),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"trombi w-screen align-center overflow-hidden justify-center items-start"},[t._l(t.userInfo,(function(e){return o("div",{key:e.id,staticClass:"w-270 mt-45.5 ml-auto mr-auto"},[o("img",{staticClass:"w-60 h-60 rond absolute",attrs:{src:e.thumbnail}}),t._v(" "),o("div",{staticClass:"mt-5"},[o("p",{staticClass:"leading-5 font-bold text-5xl text-IBM absolute ml-70 text-blueStory"},[t._v("\n        "+t._s(e.first_name)+" "+t._s(e.last_name)+"\n      ")]),t._v(" "),o("p",{staticClass:"font-semibold text-base text-IBM text-greyStory ml-70 mt-12 absolute"},[t._v("\n        @"+t._s(e.username)+"\n      ")]),t._v(" "),o("p",{staticClass:"ml-70 font-normal text-xl text-IBM text-blueStory w-150 mt-20 absolute max-h-22 overflow-scroll"},[t._v("\n        "+t._s(e.description)+"\n      ")]),t._v(" "),o("div",{staticClass:"flex-row flex wrap absolute mt-44 ml-70 font-semibold text-IBM text-blueStory text-base"},[o("p",[t._v(t._s(e.karma_count)+" Karma")]),t._v(" "),o("p",{staticClass:"ml-6"},[t._v(t._s(e.followers_count)+" Followers")]),t._v(" "),o("p",{staticClass:"ml-6"},[t._v(t._s(e.following_count)+" Following")])]),t._v(" "),o("div",{staticClass:"w-32"},[o("div",{staticClass:"bg-blueStory text-center rounded-lg text-white absolute ml-234 w-32 h-8"},[o("button",{staticClass:"mt-1.5 text-sm font-semibold",on:{click:function(e){return t.redirectToStory()}}},[t._v("\n            Write a story\n          ")])]),t._v(" "),t._m(0,!0),t._v(" "),o("div",{staticClass:"gray-bg text-center rounded-lg text-blueStory absolute ml-234 w-32 h-8 mt-28"},[o("button",{staticClass:"mt-1.5 text-sm font-semibold",attrs:{id:"followButton"},on:{click:function(e){return t.followFunction()}}},[t._v("\n            Follow\n          ")])]),t._v(" "),"followed"===e.followed_status?o("div",{staticClass:"bg-blueStory text-center rounded-lg text-white absolute ml-234 w-32 h-8 mt-28"},[o("button",{staticClass:"mt-1.5 text-sm font-semibold",attrs:{id:"followButton"},on:{click:function(e){return t.followFunction()}}},[t._v("\n            Followed\n          ")])]):t._e(),t._v(" "),o("div",{staticClass:"ml-234 mt-44 absolute flex-row flex"},[null!==e.twitter_profile_url?o("button",{staticClass:"z-50 mr-4 w-6 h-6",on:{click:function(o){return t.redirectSocial(e.twitter_profile_url)}}},[o("img",{attrs:{src:"img/TWITTER.png"}})]):t._e(),t._v(" "),null!==e.facebook_profile_url?o("button",{staticClass:"z-50 mr-4 w-5 h-6",on:{click:function(o){return t.redirectSocial(e.facebook_profile_url)}}},[o("img",{attrs:{src:"img/FACEBOOK.png"}})]):t._e(),t._v(" "),null!==e.instagram_profile_url?o("button",{staticClass:"z-50 mr-4 w-5 h-6",on:{click:function(o){return t.redirectSocial(e.instagram_profile_url)}}},[o("img",{attrs:{src:"img/INSTA.png"}})]):t._e(),t._v(" "),null!==e.linkedin_profile_url?o("button",{staticClass:"z-50 mr-4 w-5 h-6",on:{click:function(o){return t.redirectSocial(e.linkedin_profile_url)}}},[o("img",{attrs:{src:"img/LINKEDIN.png"}})]):t._e()])])])])})),t._v(" "),t._l(t.userInfo,(function(e){return o("div",{key:e.id,staticClass:"justify-center mt-132 flex-row flex"},[o("div",{staticClass:"flex-row flex text-white"},[o("button",{staticClass:"receivedButton text-white font-semibold text-lg ml-3 mt-1 w-36 h-9 typeButton bg-storyColor",on:{click:function(e){return t.getStoryReceived()}}},[t._v("\n        Story received\n      ")]),t._v(" "),o("button",{staticClass:"receivedButton w-11 text-white font-semibold text-lg ml-0.5 mt-1 h-9 bg-storyColor typeNumber"},[t._v("\n        "+t._s(e.received_stories_count)+"\n      ")])]),t._v(" "),o("div",{staticClass:"flex-row flex ml-8"},[o("button",{staticClass:"writtenButton text-blueStory font-semibold text-lg mt-1 w-36 h-9 typeButton gray-bg",on:{click:function(e){return t.getStoryWritten()}}},[t._v("\n        Story written\n      ")]),t._v(" "),o("button",{staticClass:"writtenButton w-11 text-blueStory font-semibold text-lg ml-0.5 mt-1 h-9 gray-bg typeNumber"},[t._v("\n        "+t._s(e.written_stories_count)+"\n      ")])]),t._v(" "),o("div",{staticClass:"flex-row flex ml-8"},[o("button",{staticClass:"mentionnedButton text-blueStory font-semibold text-lg mt-1 w-36 h-9 typeButton gray-bg",on:{click:function(e){return t.getStoryMentionned()}}},[t._v("\n        Mentionned in\n      ")]),t._v(" "),o("button",{staticClass:"mentionnedButton w-11 text-blueStory font-semibold text-lg ml-0.5 mt-1 h-9 gray-bg typeNumber"},[t._v("\n        "+t._s(e.mentioning_stories_count)+"\n      ")])])])})),t._v(" "),o("div",{staticClass:"grid max-w-340 ml-auto mr-auto mt-54 absolute",attrs:{id:"storiesContainer"}},t._l(t.stories,(function(e){return o("div",{key:e.id},[o("div",{staticClass:"grid-item shadow-box rounded-xl w-100 rounded-xl border-2 bg-white"},[o("p",{staticClass:"ml-7 mt-4 text-storyColor text-xs text-IBM-bold font-bold"},[t._v("\n          "+t._s(e.type)+"\n        ")]),t._v(" "),o("div",{staticClass:"text-sm font-bold text-IBM-bold text-blueStory ml-7"},[t._v("\n          "+t._s(e.recipient.first_name)+" "+t._s(e.recipient.last_name)+"\n        ")]),t._v(" "),o("img",{staticClass:"absolute -mt-13 mr-3.5 ml-74 h-18 w-18 object-cover pdpStory",attrs:{src:e.recipient.picture}}),t._v(" "),o("div",{staticClass:"line ml-7 mt-2.5 w-6 h-0.5 bg-storyColor"}),t._v(" "),o("div",{staticClass:"ml-7 mr-8 text-xl max-h-100 overflow-scroll text-blueStory mt-5 text-IBMPlexSerif mb-6"},[t._v("\n          "+t._s(e.content)+"\n        ")]),t._v(" "),o("div",{attrs:{id:"carousel"}},[o("div",{staticClass:"overflow-hidden",attrs:{"data-flickity":'{ "wrapAround": true, "pageDots": true }'}},t._l(e.pictures,(function(picture){return o("div",{key:picture.id,staticClass:"w-100"},[o("img",{staticClass:"w-100",attrs:{src:picture.url}})])})),0),t._v(" "),o("div",{staticClass:"ml-7 mt-2.5 text-xs text-IBM text-greyStory mb-5"},[t._v("\n            "+t._s(e.hashtags)+"\n          ")]),t._v(" "),o("img",{staticClass:"ml-7 mt-6 mb-6 h-12 w-12 object-cover rounded-full",attrs:{src:e.author.picture}}),t._v(" "),o("div",{staticClass:"text-xs text-IBM text-blueStory ml-20 mb-5 -mt-13 flex-row flex absolute"},[t._v("\n            "+t._s(e.author.first_name)+" "+t._s(e.author.last_name)+"\n            "),o("p",{staticClass:"text-greyStory flex-row flex ml-2"},[t._v("—"+t._s(e.date))])]),t._v(" "),o("div",{staticClass:"text-xs text-greyStory ml-7 flex-row flex mb-4 mt-8"},[o("img",{staticClass:"w-4 h-4",attrs:{src:"img/emoji/emoji-like-contour.png"}}),t._v(" "),o("img",{staticClass:"w-4 h-4 -ml-1",attrs:{src:"img/emoji/emoji-coeur-contour.png"}}),t._v(" "),o("img",{staticClass:"w-4 h-4 -ml-1",attrs:{src:"img/emoji/emoji-impressionne-contour.png"}}),t._v(" "),o("img",{staticClass:"w-4 h-4 -ml-1",attrs:{src:"img/emoji/emoji-clap-contour.png"}}),t._v("\n            "+t._s(e.likes_count)+" ・"+t._s(e.comments_count)+" commentaires\n            ・"+t._s(e.views_count)+"\n            vues\n          ")]),t._v(" "),o("div",{staticClass:"ml-7 w-85 h-0.5 bg-greyStory"}),t._v(" "),o("div",{staticClass:"flex-row flex mt-5 mb-5 w-85 ml-7 justify-between"},[null===e.liked_type?o("img",{staticClass:"w-6 h-6",attrs:{src:"img/like-line.png"}}):"Love"===e.liked_type?o("img",{staticClass:"w-6 h-6",attrs:{src:"img/emoji/emoji-coeur-contour.png"}}):"Like"===e.liked_type?o("img",{staticClass:"w-6 h-6",attrs:{src:"img/emoji/emoji-like-contour.png"}}):"Superlike"===e.liked_type?o("img",{staticClass:"w-6 h-6",attrs:{src:"img/emoji/emoji-superlike.png"}}):"Cry"===e.liked_type?o("img",{staticClass:"w-6 h-6",attrs:{src:"img/emoji/cryIcon.png"}}):t._e(),t._v(" "),o("button",{staticClass:"text-greyStory ml-2",on:{click:function(o){return t.likeStory(e)}}},[null!==e.liked_type?o("p",{staticClass:"text-yellow-400 -ml-8",attrs:{id:"likedType"}},[t._v("\n                "+t._s(e.liked_type)+"\n              ")]):o("p",{staticClass:"-ml-8",attrs:{id:"likeDefault"}},[t._v("Like")])]),t._v(" "),o("img",{staticClass:"w-6 h-6",attrs:{src:"img/comment-line.png"}}),t._v(" "),o("button",{staticClass:"text-greyStory -ml-4"},[t._v("Comments")]),t._v(" "),o("img",{staticClass:"w-6 h-6",attrs:{src:"img/share-line.png"}}),t._v(" "),o("button",{staticClass:"text-greyStory -ml-4"},[t._v("Share")])])])])])})),0)],2)}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"gray-bg text-center rounded-lg text-blueStory absolute ml-234 w-32 h-8 mt-14"},[o("p",{staticClass:"mt-1.5 text-sm font-semibold"},[t._v("Message")])])}],!1,null,null,null);e.default=component.exports}}]);