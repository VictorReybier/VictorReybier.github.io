(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{252:function(t,e,n){var content=n(281);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(68).default)("ea3fe22a",content,!0,{sourceMap:!1})},280:function(t,e,n){"use strict";n(252)},281:function(t,e,n){var o=n(67)((function(i){return i[1]}));o.push([t.i,".centerDiv[data-v-56c10e0f]{\n  transform:translate(-50%,-50%)\n}",""]),t.exports=o},317:function(t,e,n){"use strict";n.r(e);var o=n(56),r=n.n(o),d={data:function(){return{input:{username:"",password:""}}},beforeMount:function(){null!==this.$auth.$storage.getUniversal("userToken")&&this.getId(this.$auth.$storage.getUniversal("userToken"))},methods:{getId:function(t){var e=this;r()({url:"https://storylation.eu.ngrok.io/api/me",method:"get",headers:{authorization:"Bearer ".concat(t)}}).then((function(t){e.$auth.$storage.setUniversal("selectedId",t.data.data.id),e.$router.push({name:"profile",params:{id:t.data.data.id}})})).catch((function(t){throw t}))},loginWithFacebook:function(){this.$auth.loginWith("facebook");var t=this.$auth.getToken("facebook");this.$auth.$storage.setUniversal("facebookToken",t),this.$router.push({name:"facebookRegister",params:{access_token:t}})},getUserId:function(t){var e=this;r()({url:"https://storylation.eu.ngrok.io/api/me",method:"get",headers:{authorization:"Bearer ".concat(t)}}).then((function(n){e.$auth.$storage.setUniversal("userId",n.data.data.id),e.$auth.$storage.setUniversal("userToken",t),e.$auth.$storage.setUniversal("selectedId",n.data.data.id),e.getUserGroups(t)})).catch((function(t){throw t}))},getUserGroups:function(t){var e=this;r()({url:"https://storylation.eu.ngrok.io/api/me/groups",method:"get",headers:{authorization:"Bearer ".concat(t)}}).then((function(t){e.$auth.$storage.setUniversal("userGroups",t.data),e.$router.push({name:"profile",params:{id:t.data.data.id}})})).catch((function(t){throw t}))},login:function(){void 0!==this.input.username&&void 0!==this.input.password&&this.getToken()},getToken:function(){var t=this;r()({url:"https://storylation.eu.ngrok.io/api/login",method:"post",data:{username:this.input.username,password:this.input.password,grant_type:"password",client_id:"1",client_secret:"dfpTN4IBr4g24oGgcIOudUsLR8aI830C8IWzCoDh"}}).then((function(e){t.getUserId(e.data.access_token)})).catch((function(t){throw document.getElementById("emailError").style.display="block",t}))}}},l=(n(280),n(46)),component=Object(l.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"absolute top-1/2 left-1/2 centerDiv w-132"},[t._m(0),t._v(" "),n("div",{staticClass:"mt-10 shadow-2xl sm:mt-0 h-160",attrs:{id:"personalContainer"}},[n("div",{staticClass:"md:grid md:grid-cols-3 md:gap-6"},[t._m(1),t._v(" "),n("div",{staticClass:"mt-5 md:mt-0 md:col-span-2"},[n("div",{staticClass:"shadow overflow-hidden sm:rounded-md"},[n("div",{staticClass:"px-4 py-5 bg-white sm:p-6"},[n("div",{staticClass:"grid grid-cols-6 gap-6"},[n("div",{staticClass:"col-span-6 sm:col-span-3"},[n("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"first_name"}},[t._v("\n                  Username\n                ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.username,expression:"input.username"}],staticClass:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",attrs:{type:"text",name:"first_name",id:"first_name",autocomplete:"given-name"},domProps:{value:t.input.username},on:{input:function(e){e.target.composing||t.$set(t.input,"username",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"col-span-6 sm:col-span-3"},[n("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"last_name"}},[t._v("\n                  Password\n                ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.password,expression:"input.password"}],staticClass:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",attrs:{type:"password",name:"last_name",id:"last_name",autocomplete:"family-name"},domProps:{value:t.input.password},on:{input:function(e){e.target.composing||t.$set(t.input,"password",e.target.value)}}})]),t._v(" "),n("span",{staticClass:"w-112 text-red-600 font-semibold hidden",attrs:{id:"emailError"}},[t._v("\n                Invalid email, phone number, username or password.\n              ")])])]),t._v(" "),n("div",{staticClass:"px-4 py-3 bg-gray-50 text-right sm:px-6"},[n("button",{staticClass:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-storyColor hover:bg-storyColor focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",on:{click:function(e){return t.login()}}},[t._v("\n              Continue\n            ")])])])])])]),t._v(" "),t._m(2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hidden sm:block",attrs:{"aria-hidden":"true"}},[e("div",{staticClass:"py-5"},[e("div",{staticClass:"border-t border-gray-200"})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"md:col-span-1"},[n("div",{staticClass:"px-4 sm:px-0"},[n("h3",{staticClass:"relative text-3xl font-bold text-blueStory text-IBM text-center mt-14"},[t._v("\n            Connexion\n          ")]),t._v(" "),n("p",{staticClass:"mt-1 text-sm text-gray-600"},[t._v("\n            Enter your credentials here.\n          ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hidden sm:block",attrs:{"aria-hidden":"true"}},[e("div",{staticClass:"py-5"},[e("div",{staticClass:"border-t border-gray-200"})])])}],!1,null,"56c10e0f",null);e.default=component.exports}}]);