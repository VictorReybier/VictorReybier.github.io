(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{250:function(t,e,o){var content=o(277);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(68).default)("4559a1d8",content,!0,{sourceMap:!1})},276:function(t,e,o){"use strict";o(250)},277:function(t,e,o){var n=o(67)((function(i){return i[1]}));n.push([t.i,".centerDiv{\n  transform:translate(-50%,-50%)\n}",""]),t.exports=n},314:function(t,e,o){"use strict";o.r(e);var n=o(56),r=o.n(n),c={data:function(){return{input:{username:"",password:""}}},beforeMount:function(){null!==this.$auth.$storage.getUniversal("userToken")&&this.getId(this.$auth.$storage.getUniversal("userToken"))},methods:{redirectRegister:function(){this.$router.push({name:"register"})},getId:function(t){var e=this;r()({url:"https://storylation.eu.ngrok.io/api/me",method:"get",headers:{authorization:"Bearer ".concat(t)}}).then((function(t){e.$auth.$storage.setUniversal("selectedId",t.data.data.id),e.$router.push({path:t.data.data.username,params:{id:t.data.data.id}})})).catch((function(t){throw t}))},loginWithFacebook:function(){this.$auth.loginWith("facebook");var t=this.$auth.getToken("facebook");this.$auth.$storage.setUniversal("facebookToken",t),this.$router.push({name:"facebookRegister",params:{access_token:t}})},getUserId:function(t){var e=this;r()({url:"https://storylation.eu.ngrok.io/api/me",method:"get",headers:{authorization:"Bearer ".concat(t)}}).then((function(o){e.$auth.$storage.setUniversal("userId",o.data.data.id),e.$auth.$storage.setUniversal("userToken",t),e.$auth.$storage.setUniversal("selectedId",o.data.data.id),e.getUserGroups(t,o.data.data.username)})).catch((function(t){throw t}))},getUserGroups:function(t,e){var o=this;r()({url:"https://storylation.eu.ngrok.io/api/me/groups",method:"get",headers:{authorization:"Bearer ".concat(t)}}).then((function(t){o.$auth.$storage.setUniversal("userGroups",t.data),o.$router.push({path:e,params:{id:t.data.data.id}})})).catch((function(t){throw t}))},login:function(){void 0!==this.input.username&&void 0!==this.input.password&&this.getToken()},getToken:function(){var t=this;r()({url:"https://storylation.eu.ngrok.io/api/login",method:"post",data:{username:this.input.username,password:this.input.password,grant_type:"password",client_id:"1",client_secret:"dfpTN4IBr4g24oGgcIOudUsLR8aI830C8IWzCoDh"}}).then((function(e){t.getUserId(e.data.access_token)})).catch((function(t){throw document.getElementById("emailError").style.display="block",t}))}}},l=(o(276),o(46)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"w-132 h-160 rounded-3xl text-center top-1/2 left-1/2 absolute centerDiv shadow-2xl"},[o("p",{staticClass:"font-bold text-3xl text-blueStory mt-14 text-center"},[t._v("Connexion")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.input.username,expression:"input.username"}],staticClass:"w-80 h-16 rounded-xl border-2 border-greyStory mt-12 p-6",attrs:{placeholder:"Email or username"},domProps:{value:t.input.username},on:{input:function(e){e.target.composing||t.$set(t.input,"username",e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.input.password,expression:"input.password"}],staticClass:"w-80 h-16 rounded-xl border-2 border-greyStory mt-8 p-6",attrs:{placeholder:"Password",type:"password"},domProps:{value:t.input.password},on:{input:function(e){e.target.composing||t.$set(t.input,"password",e.target.value)}}}),t._v(" "),o("button",{staticClass:"bg-storyColor w-80 h-16 mt-8 text-white rounded-xl text-bold text-lg",on:{click:function(e){return t.login()}}},[t._v("\n    CONNEXION\n  ")]),t._v(" "),o("button",{staticClass:"bg-blueStory w-80 h-16 mt-16 rounded-xl",on:{click:function(e){return t.loginWithFacebook()}}},[o("img",{staticClass:"ml-16 mt-1 absolute",attrs:{src:"img/Iconwhite.png"}}),t._v(" "),o("p",{staticClass:"ml-14 text-white text-bold text-base"},[t._v("Sign in with Facebook")])]),t._v(" "),o("p",{staticClass:"text-blueStory text-lg font-bold mt-10"},[t._v("\n    No account ?\n    "),o("button",{staticClass:"text-storyColor font-bold text-lg",on:{click:function(e){return t.redirectRegister()}}},[t._v("\n      Create one\n    ")])])])}),[],!1,null,null,null);e.default=component.exports}}]);