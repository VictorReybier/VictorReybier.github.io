(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{249:function(t,e,o){var content=o(275);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(68).default)("a3f5440c",content,!0,{sourceMap:!1})},274:function(t,e,o){"use strict";o(249)},275:function(t,e,o){var r=o(67)((function(i){return i[1]}));r.push([t.i,'.text-IBM[data-v-12434b0e]{\n  font-family:"IBMPlexSans",sans-serif\n}\n[data-v-12434b0e]::-webkit-scrollbar{\n  display:none\n}\n.pdpStory[data-v-12434b0e]{\n  border-radius:0 0 9999px 9999px\n}\n.grid-item[data-v-12434b0e]{\n  margin-bottom:80px\n}\n.phone[data-v-12434b0e]{\n  -webkit-line-clamp:1\n}\n.bio[data-v-12434b0e],.phone[data-v-12434b0e]{\n  display:-webkit-box;\n  -webkit-box-orient:vertical\n}\n.bio[data-v-12434b0e]{\n  font-family:"IBMPlexSans",sans-serif;\n  -webkit-line-clamp:4\n}\n.centerDiv[data-v-12434b0e]{\n  transform:translate(-50%,-50%)\n}',""]),t.exports=r},313:function(t,e,o){"use strict";o.r(e);o(174),o(33),o(58),o(41),o(34),o(57),o(116),o(22),o(42);var r=o(56),n=o.n(r),l=o(240),c=o.n(l),d={data:function(){return{groups:[],selectedGroups:[],persons:[],subdomain:"",stories:[],clicked:1,count:0,save:16}},beforeMount:function(){this.getSubdomain(),this.getStories(),this.getUserGroups(this.$auth.$storage.getUniversal("userToken"))},methods:{transformStoryType:function(t){switch(t){case"story":return"Story about";case"introduction":return"Introducing";case"thanks":return"Many thanks to";case"good_memory":return"Good memory with";case"inspired":return"Inspired by";case"congratulations":return"Congratulations to";case"fun_fact":return"Fun fact about";case"proud":return"Proud of";case"respect":return"Respect to";case"shoutout":return"Shoutout to";case"how_i_met":return"How I met";case"impressed":return"Impressed by";case"first_impression":return"My first impression of";case"conversation_opener":return"Conversation opener for";case"what_i_like":return"What I like about";case"happy":return"Happy for"}},initHLS:function(t,e){var o="storyVideo"+e,video=document.getElementById(o);if(c.a.isSupported()){var r=new c.a;r.loadSource(t),r.attachMedia(video)}},getSelectedStories:function(t){var e=this;this.stories.splice(0),n()({url:"https://storylation.eu.ngrok.io/api/no-auth/groups/"+t.slug+"/stories",method:"get"}).then((function(t){for(var i=0;i<Object.keys(t.data.data).length;i++)t.data.data[i].type=e.transformStoryType(t.data.data[i].type),e.stories.push(t.data.data[i])})).catch((function(t){throw t}))},getSelectedUsers:function(t){var e=this;this.getSelectedStories(t),this.persons.splice(0),n()({url:"https://storylation.eu.ngrok.io/api/no-auth/groups/"+t.slug+"/members",method:"get"}).then((function(t){for(var i=0;i<Object.keys(t.data.data).length;i++)e.persons.push(t.data.data[i])})).catch((function(t){throw t}))},getSelectedGroup:function(t){var e=this;this.getSelectedUsers(t),this.selectedGroups.splice(0);var o="https://storylation.eu.ngrok.io/api/no-auth/groups/"+t.slug;n.a.get(o).then((function(t){e.selectedGroups.push(t.data.data)})).catch((function(t){throw t}))},getUserGroups:function(t){var e=this;n()({url:"https://storylation.eu.ngrok.io/api/me/groups",method:"get",headers:{authorization:"Bearer ".concat(t)}}).then((function(t){for(var i=0;i<Object.keys(t.data.data).length;i++)e.groups.push(t.data.data[i]);e.$auth.$storage.setUniversal("userGroups",t.data)})).catch((function(t){throw t}))},setCharAt:function(t,e,o){return e>t.length-1?t:t.substr(0,e)+o+t.substr(e+1)},parser:function(t){var e=t.indexOf("@[");if(-1!==e){for(var i=e+1;" "!==t.charAt(i);)t=this.setCharAt(t,i,"");t=this.parser(t);for(var o=e;"]"!==t.charAt(o);o++)if(this.setCharAt(t,o,""),"]"===t[o+1]){t=this.setCharAt(t,o+1,"");break}}return t},redirectSocial:function(t){window.location.replace(t)},dislikeStory:function(t){t.likes_count-=1,t.liked_type=null,n()({url:"https://storylation.eu.ngrok.io/api/stories/"+t.id+"/likes",method:"delete",headers:{authorization:"Bearer ".concat(this.$auth.$storage.getUniversal("userToken"))}})},likeStory:function(t){if("Like"===t.liked_type)return this.dislikeStory(t),0;t.likes_count+=1,t.liked_type="Like",n()({url:"https://storylation.eu.ngrok.io/api/stories/"+t.id+"/likes",method:"post",headers:{authorization:"Bearer ".concat(this.$auth.$storage.getUniversal("userToken"))},data:{type:"like"}})},seeMembers:function(){document.getElementById("personContainer").style.display="flex",document.getElementById("storiesContainer").style.display="none",document.getElementById("membersButton").style.backgroundColor="#ee8172",document.getElementById("membersButton").style.color="rgba(255, 255, 255, var(--tw-text-opacity))",document.getElementById("storiesButton").style.backgroundColor="rgba(243, 244, 246, var(--tw-bg-opacity))",document.getElementById("storiesButton").style.color="#132963"},getNoAuthStories:function(){var t=this;n()({url:"https://storylation.eu.ngrok.io/api/no-auth/groups/"+this.subdomain+"/stories",method:"get",headers:{authorization:"Bearer ".concat(this.$auth.$storage.getUniversal("userToken"))}}).then((function(e){for(var i=0;i<Object.keys(e.data.data).length;i++)e.data.data[i].type=t.transformStoryType(e.data.data[i].type),e.data.data[i].content=t.parser(e.data.data[i].content),t.stories.push(e.data.data[i])})).catch((function(t){throw t}))},getStories:function(){var t=this;if(null===this.$auth.$storage.getUniversal("userToken"))return this.getNoAuthStories(),0;n()({url:"https://storylation.eu.ngrok.io/api/groups/"+this.subdomain+"/stories",method:"get",headers:{authorization:"Bearer ".concat(this.$auth.$storage.getUniversal("userToken"))}}).then((function(e){for(var i=0;i<Object.keys(e.data.data).length;i++)null!==e.data.data[i].liked_type&&(e.data.data[i].liked_type=e.data.data[i].liked_type.charAt(0).toUpperCase()+e.data.data[i].liked_type.slice(1)),e.data.data[i].type=t.transformStoryType(e.data.data[i].type),e.data.data[i].content=t.parser(e.data.data[i].content),t.stories.push(e.data.data[i])})).catch((function(t){throw t}))},seeStories:function(){this.getStories(),document.getElementById("storiesContainer").style.display="block",document.getElementById("personContainer").style.display="none",document.getElementById("storiesButton").style.backgroundColor="#ee8172",document.getElementById("storiesButton").style.color="rgba(255, 255, 255, var(--tw-text-opacity))",document.getElementById("membersButton").style.backgroundColor="rgba(243, 244, 246, var(--tw-bg-opacity))",document.getElementById("membersButton").style.color="#132963";for(var t=0;t<Object.keys(this.stories).length;t++)for(var i=0;i<this.stories[t].videos.length;i++)this.initHLS(this.stories[t].videos[0].url,this.stories[t].videos[0].id);setTimeout(this.loaded,2e3),setTimeout(this.initFlickity,1e3)},getSocial:function(t,e){var o=this,r=this.$auth.$storage.getUniversal("userToken");n()({url:"https://storylation.eu.ngrok.io/api/users/"+t,method:"get",headers:{authorization:"Bearer ".concat(r)}}).then((function(t){e.twitter=t.data.data.twitter_profile_url,e.facebook=t.data.data.facebook_profile_url,e.instagram=t.data.data.instagram_profile_url,e.linkedin=t.data.data.linkedin_profile_url,o.persons.push(e)})).catch((function(t){throw t}))},redirectProfile:function(t){this.$auth.$storage.setUniversal("selectedId",t),this.$router.push({name:"profile",params:{id:t}})},getSubdomain:function(){var t=window.location.hostname.split(".localhost");this.subdomain=t[0]},getInitialUsers:function(){var t=this,e="https://storylation.eu.ngrok.io/api/no-auth/groups/"+this.subdomain+"/members";n.a.get(e).then((function(e){for(var o=Object.keys(e.data.data).length,i=0;i<o||i<=15;i++){if(i>o-1){t.save=i;break}if(i>=15)break;void 0!==e.data.data[i].group_descriptions[0]&&(e.data.data[i].description=e.data.data[i].group_descriptions[0].description),null!==t.$auth.$storage.getUniversal("userToken")?t.getSocial(e.data.data[i].id,e.data.data[i]):t.persons.push(e.data.data[i])}})).catch((function(t){throw t}))},loaded:function(){var t=o(238),e=o(239),r=document.querySelector(".grid");e(r,(function(){var e=new t(r,{itemSelector:".grid-item",columnWidth:".grid-item",gutter:80});console.log(e)})).on("done",(function(t){console.log("all images are loaded")}))},initFlickity:function(){var t=document.createElement("script");t.setAttribute("src","https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"),document.head.appendChild(t)}}},m=(o(274),o(46)),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t._m(0),t._v(" "),o("div",{staticClass:"fixed shadow-box bg-gray-100 h-screen w-80 mt-20",attrs:{id:"fixedSideBar"}},[t._m(1),t._v(" "),o("p",{staticClass:"absolute font-semibold text-blueStory text-IBM mt-32 ml-8 text-xl"},[t._v("\n      My Groups\n    ")]),t._v(" "),o("div",{staticClass:"absolute mt-44"},t._l(t.groups,(function(e){return o("div",{key:e.id,staticClass:"flex-row flex ml-9 mt-7"},[o("button",{on:{click:function(o){return t.getSelectedGroup(e)}}},[o("div",{staticClass:"h-11 w-11 bg-cover rounded-xl mr-4 bg-center",style:{backgroundImage:"url("+e.picture+")"}}),t._v(" "),o("p",{staticClass:"w-54 -mt-8 ml-4 absolute font-semibold text-IBM text-blueStory overflow-ellipsis"},[t._v("\n            "+t._s(e.name)+"\n          ")])])])})),0)]),t._v(" "),o("button",{on:{click:function(e){return t.appendLogin()}}},[t._v("Login")]),t._v(" "),o("meta",{attrs:{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}}),t._v(" "),t._l(t.selectedGroups,(function(e){return o("div",{key:e.id,staticClass:"banniere mb-3 ml-80 mt-20",attrs:{id:"groupContainer"}},[o("div",{staticClass:"m-auto w-204 max-w-full bg-cover bg-center rounded-3xl h-80 relative -z-1 shadow-md sm:h-quarter sm:w-full",style:{backgroundImage:"url("+e.cover+")"}}),t._v(" "),o("div",{staticClass:"m-auto mb-10 w-28 h-28 bg-cover bg-center -mt-14 rounded-3xl shadow-md sm:w-16 sm:h-16 sm:-mt-8",style:{backgroundImage:"url("+e.picture+")"}}),t._v(" "),o("p",{staticClass:"info_group text-xl text-9x1 text-center mt-10 mb-4 text-storyColor text-IBM"},[t._v("\n      The beautiful community of\n    ")]),t._v(" "),o("p",{staticClass:"phone_group leading-5 font-bold text-center text-5xl text-blueStory text-IBM"},[t._v("\n      "+t._s(e.name)+"\n    ")]),t._v(" "),o("p",{staticClass:"bio text-sm text-center overflow-hidden mt-7 mr-6 text-base leading-tight mb-24 mr-auto ml-auto max-w-sm text-blueStory"},[t._v("\n      "+t._s(e.description)+"\n    ")]),t._v(" "),o("div",{staticClass:"justify-center flex"},[o("button",{staticClass:"w-28 h-8 rounded-lg bg-storyColor text-IBM text-white text-lg font-bold mr-6",attrs:{id:"membersButton"},on:{click:function(e){return t.seeMembers()}}},[t._v("\n        Members\n      ")]),t._v(" "),o("button",{staticClass:"w-28 h-8 rounded-lg text-blueStory text-IBM text-lg font-bold bg-gray-100 z-50",attrs:{id:"storiesButton"},on:{click:function(e){return t.seeStories()}}},[t._v("\n        Stories\n      ")])])])})),t._v(" "),o("div",{staticClass:"mt-24 justify-center flex-wrap flew-row flex ml-80",attrs:{id:"personContainer"}},t._l(t.persons,(function(e){return o("div",{key:e.id,staticClass:"shadow-lg rounded-3xl m-6 w-60 h-123 sm:w-full sm:ml-0 sm:mr-0 sm:h-160"},[o("button",{on:{click:function(o){return t.redirectProfile(e.id)}}},[o("div",{staticClass:"rounded-tr-3xl rounded-tl-3xl bg-cover w-60 h-45.5 sm:w-full sm:h-screenw",style:{backgroundImage:"url("+e.picture+")"}}),t._v(" "),e.group_titles.length>0?o("p",{staticClass:"info mt-8 mb-px text-sm font-bold leading-none text-storyColor ml-7 font-body text-IBM text-left"},[t._v("\n          "+t._s(e.group_titles[0].title)+"\n        ")]):t._e(),t._v(" "),o("p",{staticClass:"phone mt-1 font-bold text-blueStory ml-7 leading-none mb-px text-2xl overflow-hidden mr-2 font-body leading-high text-IBM text-left w-45.5"},[t._v("\n          "+t._s(e.first_name)+" "+t._s(e.last_name)+"\n        ")]),t._v(" "),o("p",{staticClass:"phone text-sm mt-1 font-bold text-greyStory ml-7 font-body text-IBM text-left"},[t._v("\n          @"+t._s(e.username)+"\n        ")]),t._v(" "),o("p",{staticClass:"bio ml-7 w-45.5 h-32 overflow-scroll mr-8 text-base leading-tight text-blueStory mt-4 font-body text-left"},[t._v("\n          "+t._s(e.description)+"\n        ")])]),t._v(" "),o("div",{staticClass:"ml-4.5 mt-7.5 flex-row flex"},[null!==e.twitter&&void 0!==e.facebook?o("button",{staticClass:"z-50 ml-2.5",on:{click:function(o){return t.redirectSocial(e.twitter)}}},[o("img",{attrs:{src:"img/TWITTER.png"}})]):t._e(),t._v(" "),null!==e.facebook&&void 0!==e.facebook?o("button",{staticClass:"z-50 ml-2.5",on:{click:function(o){return t.redirectSocial(e.facebook)}}},[o("img",{attrs:{src:"img/FACEBOOK.png"}})]):t._e(),t._v(" "),null!==e.instagram&&void 0!==e.facebook?o("button",{staticClass:"z-50 ml-2.5",on:{click:function(o){return t.redirectSocial(e.instagram)}}},[o("img",{attrs:{src:"img/INSTA.png"}})]):t._e(),t._v(" "),null!==e.linkedin&&void 0!==e.facebook?o("button",{staticClass:"z-50 w-4 h-4 ml-2.5",on:{click:function(o){return t.redirectSocial(e.linkedin)}}},[o("img",{attrs:{src:"img/LINKEDIN.png"}})]):t._e(),t._v(" "),o("p",{staticClass:"absolute ml-32 mt-0.5 text-IBM text-greyStory font-semibold text-xs"},[t._v("\n          "+t._s(e.written_stories_count)+" stories\n        ")])])])})),0),t._v(" "),o("div",{staticClass:"ml-80"},[o("div",{staticClass:"grid mt-54 w-220 hidden mr-auto ml-auto max-w-full",attrs:{id:"storiesContainer"}},t._l(t.stories,(function(e){return o("div",{key:e.id},[o("div",{staticClass:"grid-item shadow-box rounded-xl w-100 rounded-xl border-2 bg-white"},[o("p",{staticClass:"ml-7 mt-4 text-storyColor text-xs text-IBM-bold font-bold"},[t._v("\n            "+t._s(e.type)+"\n          ")]),t._v(" "),o("div",{staticClass:"text-sm font-bold text-IBM-bold text-blueStory ml-7"},[t._v("\n            "+t._s(e.recipient.first_name)+" "+t._s(e.recipient.last_name)+"\n          ")]),t._v(" "),o("img",{staticClass:"absolute -mt-13 mr-3.5 ml-74 h-18 w-18 object-cover pdpStory",attrs:{src:e.recipient.picture}}),t._v(" "),o("div",{staticClass:"line ml-7 mt-2.5 w-6 h-0.5 bg-storyColor"}),t._v(" "),o("div",{staticClass:"ml-7 mr-8 text-xl max-h-100 overflow-scroll text-blueStory mt-5 text-IBMPlexSerif"},[t._v("\n            "+t._s(e.content)+"\n          ")]),t._v(" "),e.videos.length>0?o("div",[o("video",{staticClass:"w-100 mt-4",attrs:{id:"storyVideo"+e.videos[0].id,controls:""}},[o("source",{attrs:{autostart:"false",src:e.videos[0].url}})])]):t._e(),t._v(" "),o("div",{attrs:{id:"carousel"}},[o("div",{staticClass:"overflow-hidden",attrs:{"data-flickity":'{ "wrapAround": true, "prevNextButtons": false }'}},t._l(e.pictures,(function(picture){return o("div",{key:picture.id,staticClass:"w-100"},[o("img",{attrs:{src:picture.url}})])})),0),t._v(" "),o("div",{staticClass:"ml-7 mt-2.5 text-xs text-IBM text-greyStory mb-5"},[t._v("\n              "+t._s(e.hashtags)+"\n            ")]),t._v(" "),o("img",{staticClass:"ml-7 mt-6 mb-6 h-12 w-12 object-cover rounded-full",attrs:{src:e.author.picture}}),t._v(" "),o("div",{staticClass:"text-xs text-IBM text-blueStory ml-20 mb-5 -mt-13 flex-row flex absolute"},[t._v("\n              "+t._s(e.author.first_name)+" "+t._s(e.author.last_name)+"\n              "),o("p",{staticClass:"text-greyStory flex-row flex ml-2"},[t._v("\n                —"+t._s(e.date)+"\n              ")])]),t._v(" "),o("div",{staticClass:"text-xs text-greyStory ml-7 flex-row flex mb-4 mt-8"},[o("img",{staticClass:"w-4 h-4",attrs:{src:"img/emoji/emoji-like-contour.png"}}),t._v(" "),o("img",{staticClass:"w-4 h-4 -ml-1",attrs:{src:"img/emoji/emoji-coeur-contour.png"}}),t._v(" "),o("img",{staticClass:"w-4 h-4 -ml-1",attrs:{src:"img/emoji/emoji-impressionne-contour.png"}}),t._v(" "),o("img",{staticClass:"w-4 h-4 -ml-1",attrs:{src:"img/emoji/emoji-clap-contour.png"}}),t._v("\n              "+t._s(e.likes_count)+" ・"+t._s(e.comments_count)+"\n              commentaires・"+t._s(e.views_count)+"\n              vues\n            ")]),t._v(" "),o("div",{staticClass:"ml-7 w-85 h-0.5 bg-greyStory"}),t._v(" "),o("div",{staticClass:"flex-row flex mt-5 mb-5 ml-7"},[null===e.liked_type?o("img",{staticClass:"w-6 h-6",attrs:{src:"img/like-line.png"}}):"Love"===e.liked_type?o("img",{staticClass:"w-6 h-6",attrs:{src:"img/emoji/emoji-coeur-contour.png"}}):"Like"===e.liked_type?o("img",{staticClass:"w-6 h-6",attrs:{src:"img/emoji/emoji-like-contour.png"}}):"Cry"===e.liked_type?o("img",{staticClass:"w-6 h-6",attrs:{src:"img/emoji/cryIcon.png"}}):"Superlike"===e.liked_type?o("img",{staticClass:"w-6 h-6",attrs:{src:"img/emoji/emoji-superlike.png"}}):t._e(),t._v(" "),o("button",{staticClass:"text-greyStory ml-2 mr-12",on:{click:function(o){return t.likeStory(e)}}},[null!==e.liked_type?o("p",{staticClass:"text-yellow-400"},[t._v("\n                  "+t._s(e.liked_type)+"\n                ")]):o("p",[t._v("Like")])]),t._v(" "),o("img",{staticClass:"w-6 h-6",attrs:{src:"img/comment-line.png"}}),t._v(" "),o("button",{staticClass:"text-greyStory ml-2 mr-12"},[t._v("Comments")]),t._v(" "),o("img",{staticClass:"w-6 h-6",attrs:{src:"img/share-line.png"}}),t._v(" "),o("button",{staticClass:"text-greyStory ml-2"},[t._v("Share")])])])])])})),0)])],2)}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"w-screen h-20 shadow-xl flex-row flex fixed bg-white z-50",attrs:{id:"fixedBar"}},[o("img",{staticClass:"w-44 h-8 ml-8 mt-6 mr-44",attrs:{src:"img/Group.png"}}),t._v(" "),o("p",{staticClass:"font-bold text-xl text-IBM text-blueColor mr-20 mt-7"},[t._v("Feed")]),t._v(" "),o("p",{staticClass:"font-bold text-xl text-IBM text-blueColor mr-20 mt-7"},[t._v("Groups")]),t._v(" "),o("p",{staticClass:"font-bold text-xl text-IBM text-blueColor mr-20 mt-7"},[t._v("\n      Discover\n    ")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"absolute w-65 h-14 rounded-5xl bg-white mt-9 ml-8 flew-row flex"},[o("input",{staticClass:"absolute ml-13 mt-4",attrs:{placeholder:"Search",type:"text"}}),t._v(" "),o("img",{staticClass:"mt-5 ml-5 w-5 h-5",attrs:{src:"img/Combined Shape.png"}})])}],!1,null,"12434b0e",null);e.default=component.exports}}]);